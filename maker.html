<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ååˆºãƒ‡ãƒ¼ã‚¿ä½œæˆãƒ„ãƒ¼ãƒ«</title>
    <style>
        body { font-family: sans-serif; padding: 20px; max-width: 500px; margin: 0 auto; }
        label { display: block; margin-top: 15px; font-weight: bold; }
        input[type="text"], input[type="url"], textarea { width: 100%; padding: 8px; margin-top: 5px; box-sizing: border-box; }
        
        /* å†™çœŸã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å‘¨ã‚Šã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
        .image-upload-container {
            text-align: center;
            margin-bottom: 20px;
            padding: 20px;
            border: 2px dashed #ccc;
            border-radius: 10px;
            background-color: #f9f9f9;
        }
        .preview-img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid #ddd;
            display: none; /* æœ€åˆã¯éè¡¨ç¤º */
            margin: 0 auto 10px auto;
        }
        input[type="file"] {
            display: none; /* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒœã‚¿ãƒ³ã¯éš ã™ */
        }
        .custom-file-upload {
            display: inline-block;
            padding: 8px 16px;
            cursor: pointer;
            background-color: #666;
            color: white;
            border-radius: 5px;
            font-size: 14px;
        }

        button { width: 100%; padding: 15px; background: #4A90E2; color: white; border: none; font-size: 16px; margin-top: 20px; cursor: pointer; border-radius: 5px;}
        #resultArea { margin-top: 20px; padding: 10px; background: #eee; word-break: break-all; display: none; }
    </style>
</head>
<body>
    <h2>ğŸ“‡ ãƒ‡ã‚¸ã‚¿ãƒ«ååˆºãƒ¡ãƒ¼ã‚«ãƒ¼</h2>
    <p>æƒ…å ±ã‚’å…¥åŠ›ã—ã¦ã€ŒURLç”Ÿæˆã€ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚</p>

    <label>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å†™çœŸ</label>
    <div class="image-upload-container">
        <img id="preview" class="preview-img" alt="ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼">
        <label for="imageUpload" class="custom-file-upload">
            ğŸ“· å†™çœŸã‚’é¸æŠã™ã‚‹
        </label>
        <input type="file" id="imageUpload" accept="image/*" onchange="previewImage(this)">
        <p style="font-size:12px; color:#666; margin-top:5px;">â€»å†™çœŸã¯ã‚µãƒ¼ãƒãƒ¼ã«ã‚¢ãƒƒãƒ—ã•ã‚Œã¾ã›ã‚“ã€‚<br>ï¼ˆæ¬¡å›ä»¥é™ã®æ©Ÿèƒ½ã§å®Ÿè£…äºˆå®šï¼‰<br>ä»Šå›ã¯ãƒ†ã‚¹ãƒˆç”¨ã¨ã—ã¦ä»®ã®URLã‚’ä½¿ã„ã¾ã™ã€‚</p>
    </div>

    <label>ãŠåå‰</label>
    <input type="text" id="name" placeholder="ä¾‹ï¼šå±±ç”° å¤ªéƒ">

    <label>è‚©æ›¸ã</label>
    <input type="text" id="job" placeholder="ä¾‹ï¼šä»£è¡¨å–ç· å½¹ / ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢">

    <label>ä¼šç¤¾åãƒ»æ‰€å±</label>
    <input type="text" id="company" placeholder="ä¾‹ï¼šæ ªå¼ä¼šç¤¾ã€‡ã€‡">

    <label>è‡ªå·±ç´¹ä»‹ãƒ»PR</label>
    <textarea id="bio" rows="3" placeholder="çŸ­ã„è‡ªå·±ç´¹ä»‹..."></textarea>

    <label>Webã‚µã‚¤ãƒˆ URL</label>
    <input type="url" id="website" placeholder="https://...">

    <label>X (Twitter) ID</label>
    <input type="text" id="twitter" placeholder="@ãªã—ã§å…¥åŠ› (ä¾‹: elonmusk)">

    <button onclick="generateURL()">ğŸ”— NFCç”¨URLã‚’ç”Ÿæˆã™ã‚‹</button>

    <div id="resultArea">
        <p><strong>ä»¥ä¸‹ã®URLã‚’ã‚³ãƒ”ãƒ¼ã—ã¦NFCã«æ›¸ãè¾¼ã‚“ã§ãã ã•ã„ï¼š</strong></p>
        <p id="generatedUrl"></p>
        <button onclick="copyToClipboard()" style="background:#333; margin-top:10px;">ã‚³ãƒ”ãƒ¼ã™ã‚‹</button>
    </div>

    <script>
        // å†™çœŸãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½
        function previewImage(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('preview').src = e.target.result;
                    document.getElementById('preview').style.display = 'block';
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        function generateURL() {
            // ãƒ™ãƒ¼ã‚¹URL
            const baseURL = window.location.href.replace('maker.html', 'index.html');
            const params = new URLSearchParams();

            // â€»æ³¨æ„ï¼šæœ¬å½“ã¯ã“ã“ã§ç”»åƒã‚’ã‚µãƒ¼ãƒãƒ¼ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€ãã®URLã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
            // ä»Šå›ã¯ã¾ã ã‚µãƒ¼ãƒãƒ¼ãŒãªã„ãŸã‚ã€ç”»åƒURLã¯ä»®ã®ã‚‚ã®ï¼ˆã¾ãŸã¯æ‰‹å‹•å…¥åŠ›ï¼‰ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
            // ã“ã“ã§ã¯ä¸€æ—¦ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ï¼ˆãƒ€ãƒŸãƒ¼ç”»åƒï¼‰ã®URLã‚’ã‚»ãƒƒãƒˆã—ã¾ã™ã€‚
            
            // å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®å–å¾—
            if(document.getElementById('name').value) params.set('n', document.getElementById('name').value);
            if(document.getElementById('job').value) params.set('j', document.getElementById('job').value);
            if(document.getElementById('company').value) params.set('c', document.getElementById('company').value);
            if(document.getElementById('bio').value) params.set('b', document.getElementById('bio').value);
            if(document.getElementById('website').value) params.set('w', document.getElementById('website').value);
            if(document.getElementById('twitter').value) params.set('t', document.getElementById('twitter').value);

            // ç”»åƒURLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¿½åŠ ï¼ˆä»Šå›ã¯å›ºå®šã§ã™ãŒã€æœ¬æ¥ã¯ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸURLã‚’å…¥ã‚Œã‚‹å ´æ‰€ï¼‰
            // params.set('img', 'ã“ã“ã«ç”»åƒã®URLãŒå…¥ã‚Šã¾ã™');

            const finalURL = baseURL + "?" + params.toString();
            
            document.getElementById('generatedUrl').innerText = finalURL;
            document.getElementById('resultArea').style.display = 'block';
        }

        function copyToClipboard() {
            const urlText = document.getElementById('generatedUrl').innerText;
            navigator.clipboard.writeText(urlText).then(() => {
                alert("URLã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼NFC Toolsã‚¢ãƒ—ãƒªã§æ›¸ãè¾¼ã‚“ã§ãã ã•ã„ã€‚");
            });
        }
    </script>
</body>
</html>
